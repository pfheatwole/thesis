************
Introduction
************

.. What does this paper do? It creates parametric paraglider flight dynamics
   models.

The objective of this paper is to produce paraglider flight dynamics models as
systems of differential equations :math:`\dot{\vec{x}} = f(\vec{x}, \vec{u})`.

[[specifically, using parametric component models]]


.. What is a *dynamic simulation*?

1. Dynamic simulations

   * What are they?

   * What are their applications? (motivate their value)

   * How do they work? (A *dynamics model* provides a set of derivatives that
     describe the behavior of a system, and a simulator integrates those
     derivatives to create a record of that behavior over time.)

   * [[Refer to my notes on "dynamic simulation" in
     `work/content/state_dynamics.rst:Flight simulation`]]

2. Flight simulation

   * A *flight dynamics model* is just a dynamics model for an aircraft, and
     *flight simulation* is a normal dynamic simulation but of an aircraft.

   * Tricky bits when dealing with aircraft:

     * Aerodynamic forces

     * Apparent mass effects

   * A *flight dynamics model* doesn't just provide mass and forces, it compute
     the accelerations to account for those tricky bits? (Not necessarily; the
     aerodynamics may have been precomputed as linear coefficients.)

3. Paraglider flight simulation

   I'd like to simulate commercial paraglider wings, so this paper develops
   a parametric flight dynamics model for paragliders.

   (This is the first time I've specifically reference paragliding, and should
   segue into the next section, which introduces paragliding and establishes
   the performance criteria for the flight dynamics model that I require.)



.. Context

   "Provides the full context in a way that flows from the opening."

Motivation
==========

.. Why does this paper create parametric paraglider flight dynamics models?

.. Establishing a research territory (Context): wind patterns help pilots

Paragliding is a recreational flying activity that uses a lightweight, flexible
wing for non-powered flight. Pilots are strapped into a harness suspended from
the wing by a network of flexible connecting lines, and control the glider by
manipulating the lengths of the suspension lines and shifting their weight
inside the harness. Because paragliders lack a motor, their motion is entirely
dictated by interactions with gravity and wind. If the air is ascending a pilot
can slow their descent, or even gain altitude; conversely, sinking air will
cause the wing to descend more quickly. The horizontal component of the wind
dictates the ground speed of the glider in a given direction, which determines
what regions of the air the pilot can access, and what landing zones they can
reach.

As a result, a successful flight depends on the pilot's ability to recognize
the structure of the local air currents and navigate them in order to achieve
their flight goals, which may include optimizing for flight time, distance, or
a particular route. Because a glider is constantly spending energy to
counteract the force of gravity, the pilot must recognize the wind structure as
quickly as possible to minimize energy loss. Experienced pilots assess the
nearby air currents by observing vegetation, birds, or other pilots, but they
can also leverage knowledge gained from previous flights; although local wind
configurations are difficult to predict in detail, they can exhibit recurring
patterns. By learning those patterns a pilot can assess the current wind
conditions more quickly and more accurately, and can prioritize flying to areas
that are likely to support their flight goals.


.. Don't dwell on flight reconstruction, but it does establish the importance
   of the project and the performance criteria of the resulting models.

Traditionally, wind patterns are discovered by pilots with a lot of flight time
in a particular area, and are shared directly from one pilot to another. For
the pilot community to learn reliable patterns, individual pilots must first
recognize a pattern and then be able to communicate it with precision. An
appealing alternative would be to aggregate recorded flight data from many
pilots over many flights, detect any wind patterns automatically from those
flights, and build a graphical map to communicate the features of the wind
field visually instead of relying on verbal descriptions. In support of this
idea, there already exist large databases with millions of recorded flights
spanning several decades from pilots who share their flights for personal and
competitive purposes. The difficulty with using those records is that most
flight devices only record a tiny amount of the information available to
a pilot; in fact, the average flight record can only be expected to include
a time series of positions. There is typically no information regarding the
orientation, velocity, acceleration, pilot control inputs, or the weather
conditions. Even the details of the aircraft are unknown (in most cases). The
ability to learn wind patterns from a set of flight records hinges on the
ability to estimate the structure of the wind field that was present during
individual flights using position-only data.


.. Establishing a niche (Problem and Significance): paraglider flight dynamics

The key to success is to recognize that although position is the only available
data, it is not the only available information: we also know that each flight
record was produced by a paraglider. That information — knowledge of the
dynamics of the system that produced the data — establishes a causal
relationship between the sequence of glider positions and the underlying wind
field. This is vital information, because given a causal model it may be
possible to perform statistical *flight reconstruction*. [[FIXME: finish; add
reference to the MH370 paper.]]

[[One of the sub-problems is that because we don't know what paraglider model
produced the data we also don't have a single dynamics model: flight
reconstruction would need an entire **distribution** of dynamics models. An
analytical distribution over wing models is infeasible, but an empirical
distribution over a representative subset of commercial paraglider wings should
suffice.]]


.. Occupying the niche (Response): parametric modeling

[[The problem is that it's difficult to create a single flight dynamics model
of a commercial wing, much less an entire set of models. It would be laborious
if you had detailed specs, but we don't even have that. All we have is summary
measurements. The response taken in this project is to encode the bulk of the
structure is in parametric functions that are parametrized by that available
data. FIXME: finish.]]


Paraglider flight dynamics
==========================

.. Elaborate on what a paraglider flight dynamics models do and what goes into
   creating one.

   What do I mean "parglider flight dynamics"? What do I mean by "parametric"?


* What's required to produce a flight dynamics model for a paraglider?

  Depends on the functionality you require; what control inputs, what sorts of
  flight scenarios (does it need to turn?), etc.

* [[Define "typical flight conditions" in here somewhere; the flight conditions
  and foil geometry establish the criteria for selecting an aerodynamics
  method: nonlinear geometry, viscous effects, nonuniform wind fields, etc.]]

* Preview how to decompose a paraglider system into components. Do they really
  need their own subsections? Might depend on how I fill out the "Existing
  methods" section.


.. Foil geometry


.. Foil aerodynamics


.. Component models

Component models encode:

1. Inertial properties

2. Aerodynamic and gravitational forces

This is the tricky bit; most of the complexity is hidden in the component
dynamics.


.. System dynamics

The system dynamics combine the component dynamics into a composite system
model.


.. State dynamics

The state dynamics define the state derivatives in terms of system dynamics.


Existing methods
================

* "Methods" includes existing tools and models in literature)

* How does `glidersim` compare to existing methods for modeling and for
  estimation? What did I do differently to justify creating a new model?


What are the tasks?

* Foil modeling (paraglider components like harness, lines, etc, are one-offs)

  * Designing a wing geometry (where does the geometry spec come from?)

  * Instantiating a wing geometry (turning a spec into a geometry model that
    can answer queries required by an aerodynamics model)

  * Estimating wing aerodynamics

* Component models

  * Models from literature, I guess...

* System dynamics (defining the complete aircraft; combines ALL the pieces, not
  just the wing)

  * I think YASim, JSBSim, etc fall into this category, possibly overlapping
    with the state dynamics. I imagine FlightGear defines the state variables
    and YAsim provides them.

* State dynamics

* Flight simulation


Foil modeling
-------------

For "designing vs instantiating" a geometry, it might be easier to describe
"explicit vs parametric" geometries. They're hard to separate, so maybe don't
even try; instead, explain that some tools expect you to define the geometry
**directly** versus **parametrically**.


Geometry
^^^^^^^^

* Existing tools: XFLR5, AVL, MachUpX, Benedetti

* Really hard to separate designing versus instantiating a geometry spec...

* Explicit geometry tools like XFLR5 require that you already have a wing
  geometry spec and just want to instantiate it. Very inconvenient for
  **designing** new geometries; pointwise models are completely unsuitable for
  designing nonlinear geometries in particular.

  Designing nonlinear foils is much easier to do when you can work with
  parametric mathematical models. Benedetti is similar to what I did, but still
  to restricted. I generalized it, allowing more flexibility which I then used
  to create simpler (and more precise) parametric representations of the
  underlying structure.


Aerodynamics
^^^^^^^^^^^^

* Existing tools: XFLR5, AVL, MachUpX, etc

Okay, I need to differentiate general aerodynamics methods and
paraglider-specific methods. There are tools like AVL for estimating
aerodynamics of nonlinear wings. There are also specialized methods in
literature for quickly approximating paraglider aerodynamics (Gonzalez, etc).
I'm arguing that both the **available** general and specialized models were
inadequate, justifying my work.


Models that assume you already know the total wing aerodynamic coefficients are
out since those are unknown (and those are typically linear models anyway). An
explicit goal of my project was to NOT assume linearity.


Problems with existing models in literature for paraglider aerodynamics:

* Many models from literature analyzing paraglider aerodynamics are for
  longitudinal-only dynamics

* Assumed linearity

  No degradation near stall (high alpha), no apparent mass, etc

* They assume uniform wind

  For example, what happens when a paraglider has an indirect interaction with
  a thermal?


Paraglider components
---------------------


Paraglider system dynamics
--------------------------


Paraglider state dynamics
-------------------------



Roadmap
=======

.. "Brief indication of how the thesis will proceed."

The modeling process begins by developing a novel :doc:`foil_geometry` tailored
for nonlinear shapes, enabling simple, parametric representations of typical
paraglider canopies. It then chooses a :doc:`foil_aerodynamics` method suitable
for the nonlinear geometry and typical flight conditions of a parafoil canopy,
and compares its estimates to experimental wind tunnel data. Next,
:doc:`paraglider_components` decomposes a paraglider into a system of
components, and develops parametric models for each component. Finally,
:doc:`system_dynamics` combine the components into complete dynamics models,
and :doc:`state_dynamics` selects a suitable set of state variables and defines
their derivatives in terms of the system dynamics. The paper concludes with
a :doc:`demonstration` that uses the parametric components to create a flight
dynamics model of a commercial paraglider wing; it estimates the parameters of
the component models from technical data, compares the simulated behavior
against static and dynamic measurements from physical wing tests, and considers
the simulated behavior in a variety of scenarios.

.. FIXME: would this be better in a "goals, steps, results" format?
